{{ $nature := .Get "nature" }}
{{ $title:= .Get "title" }}
{{ $when := .Get "when" }}
{{ $description := .Get "description" }}
{{ $href := .Get "href" }}
{{ $kind := .Get "kind" }}
{{ $author := .Get "author" }}
{{ $authors := .Get "authors" }}
{{ $authorLink := .Get "authorLink" }}
{{ $resources := .Get "resources" }}
{{ $language := .Get "language" }}

<div class="row resource rounded {{ if eq $nature "external" }}external{{ end }}">
    <div class="col-12 border-bottom pb-3">
        <span class="kindOfContent mr-2">
            <small class="btn btn-info btn-sm">
                {{ if or (eq $kind "paper") (eq $kind "article") }} Publication
                {{ else if eq $kind "link" }} Link
                {{ else if eq $kind "event" }} Event
                {{ else if eq $kind "video" }} Video {{ end }}
                {{ if $language}}({{ $language }}){{ end }}
            </small>
        </span>
        {{ if $author }}
            {{ if eq $nature "external" }}
            <small>Write about us, by <a href="{{ $authorLink }}" target="_blank"><b>{{ $author }}</b></a></small>
            {{ else }}
            <small>Opinion piece by <b>{{ $author }}</b></small>
            {{ end }}
        {{ end }}
        {{ if $when }}<small>on <b>{{ $when }}</b></small>{{ end }}
    </div>
    <div class="col-12">
        <div class="{{ if $kind }}kind {{ $kind }}{{ end }}">
            <h3 class="mb-0 mt-3">
                <a href="{{ $href }}" target=_blank>{{ $title }}</a>
            </h3>
            <p class="mt-1">
                {{ $description }}<br />
                {{ if $authors }}
                    <small>Authors: <i>{{ $authors }}</i></small>
                {{ end }}
            </p>
            {{ if $resources }}
            <p class="mt-2">
                <small><b>Resource:</b> {{ $resources }}</small>
            </p>
            {{ end }}
        </div>
    </div>
</div>
